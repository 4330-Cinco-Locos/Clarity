<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="kanban.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Task Scheduler with Navbar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Firebase Setup -->
    <script type="module" src="./firebaseSetup.js"></script>
    <script type="module" src="./firebaseSend.js"></script>
    <script type="module" src="./firebaseGet.js"></script>
    <script type="module" src="./firebaseUpdate.js"></script>
    <script type="module" src="./firebaseSaver.js"></script>
    
    <script type="module">
        import { loadEvents } from "./firebaseGet.js";
        import { openModal, closeModal, saveTask, addEventToPool } from "./uiHelper.js";
        import { db, formatDate } from "./firebaseSetup.js";

        document.addEventListener("DOMContentLoaded", () => {
            loadEvents(addEventToPool);
        });

        window.openModal = openModal;
        window.closeModal = closeModal;
        window.saveTask = saveTask;
    </script>

</head>
<body>

    <!-- Top Navigation Bar -->
    <div class="top-nav" id = "top-nav">
        <a href="../HomeNav/index.html">Home</a>
        <a href="../Dashboard/index.html">Dashboard</a>
        <a class="active" href="#">Kanban</a>
        <a href="../CalendarUI/index.html">Calendar</a>
        <a href="../TextCommUI/index.html">Chat</a>
    </div>

    <!-- Sidebar for Task Pool with logo at the top -->
    <div class="sidebar">
        <img src="logo2.png" alt="Logo" class="logo">
        <h2>Task Pool</h2>
        <div class="create-event-container">
            <button class="create-event-btn" onclick="openModal()">Create Event</button>
        </div>
        <div class="task-list" id="taskPool"></div>
    </div>

    <!-- Modal for creating a new event -->
    <div class="modal-overlay" id="modalOverlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">Create New Event</div>
            <label for="taskName">Name:</label>
            <input type="text" id="taskName" placeholder="Enter task name"><br>

            <label for="attribute">Attribute:</label>
            <input type="text" id="attribute" placeholder="Enter attribute"><br>

            <label for="dateDue">Due Date:</label>
            <input type="date" id="dateDue"><br>

            <label for="priority">Priority:</label>
            <select id="priority">
                <option value="">Select priority</option>
                <option value="1">Immediate</option>
                <option value="2">1 Week</option>
                <option value="3">2 Weeks</option>
                <option value="4">1 Month+</option>
            </select><br>

            <div class="modal-buttons">
                <button onclick="closeModal()">Cancel</button>
                <button onclick="saveTask()">Save</button>
            </div>
        </div>
    </div>

    <!-- Main content area with the queue boxes -->
    <div class="content">
        <div class="queue-box" id="immediate"><h3>Immediate (ASAP)</h3></div>
        <div class="queue-box" id="one-week"><h3>1 Week</h3></div>
        <div class="queue-box" id="two-weeks"><h3>2 Weeks</h3></div>
        <div class="queue-box" id="one-month"><h3>1 Month</h3></div>
    </div>

</body>
</html>